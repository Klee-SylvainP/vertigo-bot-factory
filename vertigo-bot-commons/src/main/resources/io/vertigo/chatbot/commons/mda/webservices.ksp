package io.vertigo.chatbot.commons.domain 


create DtDefinition DtBotExport {
	field bot 						{domain: DoDtChatbotDto 				label: "chatbot" 					required: "true"}
	field fallbackText				{domain: DoDtUtterTextDto 				label: "fallback" 					required: "true"}
	field fallbackButtons			{domain: DoDtResponseButtonDtc 			label: "fallback buttons" 			required: "true"}
	field welcomeText				{domain: DoDtUtterTextDto 				label: "welcome" 					required: "true"}
	field welcomeButtons			{domain: DoDtResponseButtonDtc 			label: "welcome buttons" 			required: "true"}
}

create DtDefinition DtSmallTalkExport {
	field smallTalk					{domain: DoDtSmallTalkDto 				label: "SmallTalk" 					required: "true"}
	field nluTrainingSentences 		{domain: DoDtNluTrainingSentenceDtc 	label: "nluTrainingSentences" 		required: "true"}
	field utterTexts		 		{domain: DoDtUtterTextDtc 				label: "response texts" 			required: "true"}
	field buttons					{domain: DoDtResponseButtonDtc 			label: "buttons" 					required: "true"}
}

create DtDefinition DtRunnerInfo {
	field name 					{domain: DoLabel					label: "Name" 					required: "true"}
	field state					{domain: DoLabel 					label: "Node state" 			required: "true"}
	field agentVersion			{domain: DoLabel 					label: "Component version" 		required: "true"}
	field loadedModelVersion	{domain: DoNumber 					label: "Model version" 			required: "true"}
}

create DtDefinition DtTrainerInfo {
	field name 					{domain: DoLabel					label: "Name" 					required: "true"}
	field trainingInProgress 	{domain: DoYesNo 					label: "Training in progress" 	required: "true"}
	field trainingState			{domain: DoLabel 					label: "Training state" 		required: "true"}
	field latestTrainingLog		{domain: DoText 					label: "Training log" 			required: "true"}
	field startTime				{domain: DoInstant 					label: "Start time"				required: "false"}
	field endTime				{domain: DoInstant 					label: "End time" 				required: "false"}
	field trainingPercent		{domain: DoNumber 					label: "Training percentage" 	required: "false"}
	computed duration 			{domain: DoLabel 					label: "Duration"
								 expression:"return io.vertigo.chatbot.commons.ChatbotUtils.durationBetween(getStartTime(), getEndTime());" }
}

create DtDefinition DtExecutorTrainingCallback {
	field trainingId 			{domain: DoId 						label: "Training ID" 			required: "true"}
	field success				{domain: DoYesNo 					label: "Succes" 				required: "true"}
	field log					{domain: DoText 					label: "Logs" 					required: "true"}
	field infos					{domain: DoText						label: "Informations"	 		required: "false"}
	field warnings				{domain: DoText						label: "Warnings"	 			required: "false"}
	field apiKey				{domain: DoLabel					label: "Client Api Key"	 		required: "false"}
}

create DtDefinition DtExecutorConfiguration {
	field botId 				{domain: DoId						label: "Bot ID" 				required: "true"}
	field nodId					{domain: DoId 						label: "Node ID" 				required: "true"}
	field traId					{domain: DoId 						label: "Model ID" 				required: "true"}
	field modelName				{domain: DoLabel 					label: "Model name" 			required: "true"}
	field nluThreshold			{domain: DoPercentage 				label: "NLU Threshold" 			required: "true"}
}